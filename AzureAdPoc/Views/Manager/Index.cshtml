@using AzureAdPoc.Models

@{
    ViewData["Title"] = "Manager";
}

<div class="text-center">
    <h1 class="display-4">Welcome Manager page</h1>
    <hr />

    @if (User.Identity.IsAuthenticated)
    {
        var getUser = UserAzureAD.GetUserOnAzureAd(User);

        <h4> Azure AD User name: @getUser.user_name </h4>
        <h4> Azure AD Email: @getUser.user_email </h4>
        <h4> Azure AD User domain: @getUser.user_domain</h4>

        <h3>Access Groups:</h3>
        @if (ViewBag.UserGroupNames != null && ((List<string>)ViewBag.UserGroupNames).Any())
        {
            <ul>
                @foreach (var group in (List<string>)ViewBag.UserGroupNames)
                {
                    <li>@group</li>
                }
            </ul>
        }
        else
        {
            <p>No groups found in claims</p>
        }

    }
</div>
